---
title: Django 企业开发实战 读书笔记（第一部分）
date: 2019-07-21 14:32:57
tags: python-web
---
> 本书系统得讲述了 python web 得开发流程和细节，并在给出一个一个很不错的项目进行了实践，整体而言质量还是很不错的，尤其是对我这种对于后端知识不成体系的人来说，希望能在一周内把本书看完并实践吧。

# 第一章 需求
* 对于新人来说，最重要的事情就是自己能独立完成某个项目，去涉足项目开发中各个阶段，为以后独立承担项目开发储备经验。没有这个能力，很难成长为独当一面的人。
* 要注意的是，技术是为业务而服务的，系统实现应该以满足用户需求为第一要务。

## 需求文档
需求文档属于正规开发必备的东西，这样可以把交流落实到纸面上，方便后续的沟通。
而需求描述也说明了需要做什么，以及为什么要做。如果没有详细的需求描述，很容易造成了理解失误并频繁返工。
## 需求评审/分析
对技术而言，评审的目的有一下三个:
* 明确所有需求点，避免出现理解上的歧义
* 确认技术可行性，避免延期或后面再修改需求
* 确认工期，是否需要分期开发

在评审的时候注意要逐条考虑，细化要求，并考虑可行性。

## 功能分析
这个属于技术人员的工作，其目的就是从产品经理所提的需求中提炼出这个系统有哪些功能点，最终落实为功能列表，再进行任务分配。

## 模块划分
可以考虑产出实体图及相应关系。

# 第二章 框架基础及技术选型
* WSGL 协议就是规定了 application 和 server 之间的的数据交流的协议，这样可以让支持该协议的库同时可以对接多个框架。前者是实际的应用本身，后者是监听端口获取请求会返回相应的服务器。
* flask: 小而微，适合快速开发小项目
* Tornado: 基于异步，高性能
* Django: 大而完善

# 第三章 django 初步实践
## 背景
该框架使用了 MVC 模式，其目的在于解耦:
* Model 层: 所有纯数据相关的操作都应该放在这一层
* View 层: 展示层，偏向于业务部分，获取数据并完成展示

## 初始化环境:
```
python3 -m venv xxx  // 初始化虚拟环境
source xxx/bin/activate // 激活虚拟环境
```
## 渲染
Django 在渲染模板或静态页面的时候，会去每个 APP 下从上倒下一次寻找，APP 的顺序定义在 settings.py。
中间件拥有以下几个属性:
* process_request: 进入中间件的第一个方法
* process_view: 该方法在 process_request 之后只写，进入了 view 层
* process_template_response: 执行了 render 函数后的返回
* process_response: 不带模板的返回
* process_exception: view 层或 response 时候出错

## 测试
测试可以针对 Model 层、View 层等，有三个声明周期方法:
* setUp: 启动方法，进行初始化
* test_Xxxx: 测试用例
* tearDown: 用来清理测试环境和测试数据

